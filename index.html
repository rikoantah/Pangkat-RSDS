<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>KENAIKAN PANGKAT 2026</title>

<style>
*{box-sizing:border-box}
html,body{
  margin:0;height:100%;
  font-family:system-ui,Segoe UI,Roboto;
  background:#f1f5f9;
}
body{overflow:hidden}

.app{
  display:flex;
  flex-direction:column;
  height:100vh;
  padding:12px;
  gap:12px;
}

/* MENU */
.menu{
  display:flex;
  flex-direction:column;
  gap:12px;
  flex-shrink:0;
}
.menu-card{
  padding:18px;
  border-radius:20px;
  color:#fff;
  font-weight:800;
  display:flex;
  justify-content:space-between;
  text-decoration:none;
}
.blue{background:linear-gradient(135deg,#2563eb,#3b82f6)}
.orange{background:linear-gradient(135deg,#f59e0b,#fbbf24)}
.green{background:linear-gradient(135deg,#16a34a,#22c55e)}
.gray{background:linear-gradient(135deg,#475569,#64748b)}
.wa{background:linear-gradient(135deg,#25D366,#1ebe57)}
.menu span{font-size:12px;font-weight:600}

/* SEARCH */
.search{flex-shrink:0}
.search input{
  width:100%;
  padding:16px;
  border-radius:18px;
  border:1px solid #e5e7eb;
  font-size:15px;
}

/* LIST */
.list-area{
  flex:1;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
}
.card{
  background:#fff;
  border-radius:22px;
  padding:18px;
  margin-bottom:14px;
}
.name{font-size:17px;font-weight:900}
.nip{font-size:13px;color:#64748b}
.row{margin-top:8px;font-size:14px}
.btn{
  display:block;
  margin-top:10px;
  padding:14px;
  background:#2563eb;
  color:#fff;
  text-align:center;
  border-radius:16px;
  font-weight:800;
  text-decoration:none;
}
.muted{color:#64748b;font-size:13px}
</style>
</head>

<body>
<div class="app">

  <!-- MENU -->
  <div class="menu">
    <a class="menu-card blue" href="https://drive.google.com/file/d/1CvrZiZnmdudPrlsr6ISvy7tFo1V3OvMz/view" target="_blank">
      <div>üìÑ Persyaratan<br><span>Lihat dokumen</span></div><div>STEP 1</div>
    </a>

    <a class="menu-card orange" href="https://script.google.com/macros/s/AKfycbyT3KVZDSY14mBx1b2da3M72m2Sx-xiIm1jnao4NweL0TP8tH36TquO9DIZK1IwTN55/exec" target="_blank">
      <div>üìù Surat Ket Atasan<br><span>Buat surat</span></div><div>STEP 2</div>
    </a>

    <div class="menu-card green">
      <div>‚ûï Ajukan Rekom OPD<br><span>Upload berkas</span></div><div>STEP 3</div>
    </div>

    <a class="menu-card gray" href="https://www.pengadaanmutasiasnbkdkalbar.com" target="_blank">
      <div>üîó Link BKD<br><span>Isi setelah rekom</span></div><div>STEP 4</div>
    </a>

    <a class="menu-card wa" href="https://chat.whatsapp.com/GCBj3rAgQ2H1O5mdV30cXr" target="_blank">
      <div>üí¨ Group WhatsApp<br><span>Informasi</span></div><div>JOIN</div>
    </a>
  </div>

  <!-- SEARCH -->
  <div class="search">
    <input id="search" placeholder="üîç Ketik nama pegawai">
  </div>

  <!-- LIST -->
  <div id="list" class="list-area"></div>

</div>

<script>
/* ===== KONFIG API (WAJIB BENAR) ===== */
const API_URL =
  'https://script.google.com/macros/s/AKfycbwUC6omUMDbrQrkVvouKXcowKcXFGI2HKJwFpq3l8tqN0RzRRP0QV18RJlR9moiNEKm/exec?mode=json';

let allData = [];

/* RENDER */
function render(data){
  const box = document.getElementById('list');
  box.innerHTML = '';

  if (!data.length){
    box.innerHTML = '<div class="card muted">Data tidak ditemukan</div>';
    return;
  }

  data.forEach(r=>{
    box.innerHTML += `
      <div class="card">
        <div class="name">${r.Nama}</div>
        <div class="nip">${r.NIP}</div>
        <div class="row"><b>Periode:</b> ${r.Periode}</div>
        <div class="row"><b>Catatan:</b> <span class="muted">${r.Catatan || '-'}</span></div>
        ${r.FolderUrl ? `<a class="btn" href="${r.FolderUrl}" target="_blank">üìÅ Buka Folder</a>` : ``}
        ${r.RekomUrl ? `<a class="btn" href="${r.RekomUrl}" target="_blank">üìÑ Buka Rekom</a>` : ``}
      </div>
    `;
  });
}

/* LOAD DATA */
fetch(API_URL)
  .then(r => r.json())
  .then(d => {
    allData = Array.isArray(d) ? d : [];
    render(allData);
  })
  .catch(err => {
    console.error(err);
    document.getElementById('list').innerHTML =
      '<div class="card muted">Gagal memuat data</div>';
  });

/* SEARCH */
document.getElementById('search').addEventListener('input', e => {
  const q = e.target.value.toLowerCase();
  render(allData.filter(r => r.Nama.toLowerCase().includes(q)));
});
</script>

</body>
</html>
